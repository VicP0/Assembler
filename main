#include <stdio.h>
#include <stdlib.h>
#include "input_output.h"
#include "pre_assembler.h"

int main(int argc, char *argv[]) {
    char *as_file, *am_file;
    //printf("%s",argv[argc-1]);
    while (argc > 0) {
        /*adding ".as" for the fle name*/
        printf("Start pre-proc\n");

        /*Execute the macro preprocessor on the ".as" file.*/
        if (!pre_assembler(argv[argc-1])) {/*If it failed, move to the next file.*/
            argc--;
            continue;
        }
    }
       // printf("Start first pass\n");
        /* Generate a new file with the ".am" extension by adding it to the input filename.*/
    //    am_file = add_new_file(argv[argc], ".am");
        /*Execute the first pass, and then the second on the ".am" file.*/
      //  if (exe_first_pass(am_file)) {
            /*If it failed, move to the next file.*/
       //     argc--;
        //    continue;
        //}
        //argc--;
        /*Free allocated memory*/

    //}
    //printf("end\n");
return 0;
}
